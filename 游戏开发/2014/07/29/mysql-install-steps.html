<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>脆皮沙发 - 配置Mysql流程备忘</title>
        <meta name="viewport" content="width=device-width">
        <meta name="description" content="jekhy的游戏开发生涯" />
        <meta name="keywords" content="quick-x,cocos2d-x,game,游戏,手游,mobile,app,php,web,cocos2d,quick,jekhy" />
        <!-- 最新 Bootstrap 核心 CSS 文件 -->
        <link rel="stylesheet" href="http://cdn.bootcss.com/twitter-bootstrap/3.0.3/css/bootstrap.min.css">

        <!-- 可选的Bootstrap主题文件（一般不用引入） -->
        <link rel="stylesheet" href="http://cdn.bootcss.com/twitter-bootstrap/3.0.3/css/bootstrap-theme.min.css">

        <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>

        <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
        <script src="http://cdn.bootcss.com/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script>
        
        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="http://jekhy.com/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="http://jekhy.com/css/main.css">
    </head>
    <body>
      
<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">

    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">导航开关</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://jekhy.com/">脆皮沙发</a>
    </div>

    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
        <li class="active"><a href="http://jekhy.com/">日志</a></li>
        <li ><a href="http://jekhy.com/about.html">关于</a></li>
      </ul>
    </div>

  </div><!--/.container -->
</div>

      <div class="container">
        <div class="row">
    <div class="col-md-12">

        <ul class="breadcrumb">
            <li><a href="http://jekhy.com/">主页</a></li>
            
            
            <li><a href="#">游戏开发</a></li>
            
            
            <li class="active">配置Mysql流程备忘</li>
        </ul>
        <div class="page-header">
            <h1>
                配置Mysql流程备忘
                
                <small>[29 Jul 2014]</small>
            </h1>
            <div>
                
                <span class="label label-info">mysql</span>
                
            </div>
        </div>
        <p>本文作为备忘帖，仅供已安装好Mysql的情况下做配置参考，以后有空再写成shell。</p>

<hr>

<p>该附件为配置模板：[&quot;http://blog.jekhy.com/wp-content/uploads/2012/11/template.cnf_.zip&quot;]template.cnf</p>

<p>配置好，并设置正确的权限。</p>

<h3>安装DB：</h3>

<p>mysql<em>install</em>db --defaults-file=template.cnf</p>

<h3>运行Mysql：</h3>

<p>mysqld_safe --defaults-file=template.cnf</p>

<p>如果启动失败，检查日志，解决问题，直到启动成功。</p>

<h3>导入时间配置：</h3>

<p>mysql<em>tzinfo</em>to_sql /usr/share/zoneinfo 2&gt;/dev/null | mysql --socket=/data/sgm/mysql/mysql.sock -uroot mysql &gt;/dev/null 2&gt;&amp;1</p>

<h3>创建库并设置权限：</h3>

<p>登录mysql命令行：</p>

<p>mysql --socket=/data/project/mysql/mysql.sock -uroot</p>

<p>删除默认用户、库，创建数据库：</p>

<p>DELETE FROM mysql.user WHERE user != &#39;root&#39; OR host != &#39;localhost&#39;;
DELETE FROM mysql.db;
DROP DATABASE test;
CREATE DATABASE <code>YourDB</code> DEFAULT CHARACTER SET utf8 COLLATE utf8<em>general</em>ci;</p>

<p>给项目用户增加权限：</p>

<p>GRANT ALL ON <code>YourDB</code>.* TO <code>YourUser</code>@<code>localhost</code> IDENTIFIED BY &#39;YourPass&#39;;</p>

<h3>配置完毕，修改root默认密码：</h3>

<p>mysqladmin --socket=/data/project/mysql/mysql.sock -u root password</p>

<br />
<!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=905104"></script>
<!-- UY END -->
    </div>
</div>

      </div>
      <div class="well footer">
    powered by &lt;
    <a href="http://jekyllrb.com/" target="_blank">jekyll</a> +
    <a href="http://www.bootcss.com/" target="_blank">bootstrap</a> +
    <a href="http://github.io/" target="_blank">github</a>
    &gt;
    <small>&copy; Jekhy 2014 </small>
</div>

    </body>
</html>
